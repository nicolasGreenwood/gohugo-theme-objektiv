{{ define "main" }}
<r-grid>
    <r-cell span="2" span-s="row" class="padding-y1">
        <h1>{{ .Title }}</h1>
        <p>{{ .Summary }}</p>
    </r-cell>
    <r-cell span="row">
        <ul class="content-list">
            {{ $pages := .Pages }} {{ $paginator := .Paginate
            $pages.ByDate.Reverse 10 }} {{ range $index, $value :=
            $paginator.Pages }} {{ if (eq $index 0) }}
            <li class="padding-y1">
                <r-grid>
                    <r-cell span="2" span-s="row">
                        <img src="{{ .Params.Cover }}" class="cover-image" alt="" />
                    </r-cell>
                    <r-cell span="2" span-s="row" class="flex-col-between">
                        <div>
                            <h2 class="serif large padding0 margin0">
                                <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
                            </h2>
                            <p class="xsmall opacity6">
                                <time>{{ .Date | time.Format ":date_medium" }}</time>
                                ·
                                <span>{{ printf "%d min read" .ReadingTime }}</span>
                            </p>
                        </div>
                        <div>
                            <p>{{ .Summary }}</p>
                            <a href="{{ .RelPermalink }}">Read post →</a>
                        </div>
                    </r-cell>
                </r-grid>
            </li>
            {{ else }}
            <li class="border-bottom">
                <h2 class="serif large padding0">
                    <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
                </h2>
                <time class="serif large opacity4">
                    {{ .Date | time.Format ":date_medium" }}
                </time>
            </li>
            {{ end }} {{ end }}
        </ul>
    </r-cell>
    <r-cell span="row" class="padding-y1">
        {{ partial "pagination.html" . }}
    </r-cell>
</r-grid>
{{ end }}
